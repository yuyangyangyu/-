# 携程景点信息获取  
*说明*  
-------  
之前项目中，获取携程网页的景点信息仍然可用。但部分景点的详情有一定的几率会获取失败。  
原因是：携程对携程对部分有门票出售的网页进行了修改导致存在两种不同开头的url，分别是以you/piao两种不同开头形式，其两种网页布局有明显差异，导致之前的数据获取会出现失败的情况。  

*解决方案*。
---------  
采用基于移动端web网页作为数据来源，利用名为：httpcanary的网络工具获取网页的url和参数。利用HttpURLConnection构造post请求。其返回数据类型为json格式，再利用fastjson对返回的数据进行解析。

*功能介绍*  
---------  
1.默认获取重庆排名前20的景点信息，通过get（int page）获取第page的20个景点。对于获取景点的区域和每页的数量可在get函数内部修改。  

景点的列表返回的数据为：  
>名称  
>图片链接  
>评分  
>特点  
>距离  
>ID  

2.返回景点的详情数据，通过get_details(int id) 其id为获取景点列表方法中返回的ID。  
 
 详情景点的数据返回：  
 >开放时间  
 >优待政策  
 >服务政策  
 >景点特色  
 >景点介绍  
 >交通信息  
 
3.返回周边美食数据，通过get_food(string lat ,string lon) lat,lon分别为位置信息（经纬度）  
>名称  
>图片链接  
>评分  
>平均消费  
>距离  
>位置信息（经纬度） 
 *更新*  
 -------  
 2019-06-03  
 新增对景点列表的经纬度获取，通过列表实例getlat返回（bLat，bLon）  
20019-06-04  
修复部分景点没有服务政策，导致程序崩溃   
2019-06-05  
新增对景点的建议游玩时间的获取  
2019-06-18  
新增对周边美食的获取，需要传入自身位置参数（经纬度），目前仅支持重庆范围内
